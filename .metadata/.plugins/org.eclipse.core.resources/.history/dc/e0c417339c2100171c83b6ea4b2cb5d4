package com.wbl.test;

import java.util.ArrayList;
import java.util.List;
import org.testng.Assert;
 import org.testng.annotations.BeforeClass;
 import org.testng.annotations.DataProvider;
import org.testng.annotations.Test;

import com.wbl.base.BaseTest;
import com.wbl.helper.ExcelHelper;
import com.wbl.page.AmazonHomePage;
import com.wbl.page.AmazonLoginPage;

 
public class AmazonLoginTest extends BaseTest {
	
	AmazonHomePage ahp;
	
	AmazonLoginPage alp;
	
	Object[][] data;
	
	@BeforeClass 
	public void before() {
		
		ahp = new AmazonHomePage(driver);
 		alp = ahp.getSignInPage();
		
	}
 	
	/*@BeforeMethod 
	public void beforemethod() {
		
		System.out.println("before method");
		
		alp = ahp.getSignInPage();
		
		

	}
	*/
	 
	@DataProvider(name="login")
	public Object[][] loginData() {
		
	 	data = ExcelHelper.getExcelData("test-data\\AmazonloginTestData.xlsx","login");
	
	 	return data;
	 	
	}
	
	 
		@DataProvider(name="accountDetails")
		public Object[][] readDetails() {
			
	 		
			Object[][] data = ExcelHelper.getExcelData("test-data\\AmazonLoginTestData.xlsx","createAccount");//  test-data\\AmazonTestData.xlsx
		
		 
			
			return data;
		}  
	
	
	@Test(dataProvider ="login")
	public void enterLoginDetailsTest(String nm, String pwd) {
		
    
		
 		;
  		Assert.assertEquals(alp.enterLoginDetails(nm, pwd),"Amazon Sign In");

		
		
	}
	

	@Test(dataProvider="accountDetails")
 	public void  enterDetailsTest(String nm, String userId, String pwd, String pwd2) {
		
  

		
 	 	List<String> details = new ArrayList<String>();
	 
        details.add(nm);
        details.add(userId);
        details.add(pwd);
         details.add(pwd2);
   
 		
 		 
        System.out.println(" inside test details "  + details.get(0) + "  " +  details.get(1) + "  "  + details.get(2) );
        
        System.out.println("before entring"); 
		 
         
  		Assert.assertEquals(alp.enterDetails(details),"Amazon Registration");
		
 
}
	
	
	
}
