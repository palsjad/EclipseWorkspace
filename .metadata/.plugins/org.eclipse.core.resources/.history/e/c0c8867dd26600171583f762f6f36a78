package com.wbl.page;

import java.io.IOException;

import org.apache.http.HttpResponse;
import org.apache.http.client.ClientProtocolException;
import org.apache.http.client.HttpClient;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.HttpClientBuilder;

 
public class searchItem {
	
	
    HttpResponse response;
	
	String apiKey = "bgkuxks768g63cgqm2qspmeq";

//	String url = "http://api.walmartlabs.com/v1/search?apiKey="+ apiKey + "&start=22&query=ipod";

 
 	String url = "http://api.walmartlabs.com/v1/search?apiKey="+ apiKey + "&query=ipod";

 	String url1 = "http://api.walmartlabs.com/v1/search?apiKey=" + apiKey + "&query=ipod&categoryId=3944&sort=price&order=desc";
 	
 	String url2 = "http://api.walmartlabs.com/v1/search?apiKey=" + apiKey + "&query=tv&facet=on&facet.filter=brand:Samsung";
	
 /*	String url3 = "http://api.walmartlabs.com/v1/search?apiKey=bgkuxks768g63cgqm2qspmeq&query=tv"
 			+ "&facet=on&facet.filter=brand:Samsung&facet.range=price:[150 TO 250]&sort=price&order=asc";*/
	
 	String url3 = "http://api.walmartlabs.com/v1/search?apiKey=bgkuxks768g63cgqm2qspmeq&query=tv"
 			+ "&facet=on&facet.filter=brand:Samsung&facet.range=price:[150 TO 250]&sort=price&order=asc";
 	
 	String url4 = "http://api.walmartlabs.com/v1/search";
 	
 	
 	public HttpResponse getIpod() {
		
		
		HttpClient client = HttpClientBuilder.create().build();
		
		HttpGet get = new HttpGet(url);
		
 		
		try {
			
			response = client.execute(get);
			
		} catch (ClientProtocolException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		
	    return response;
		
		
	}
	
	
 public HttpResponse getIpodSortbyPrice() {
	 
	 HttpClient client = HttpClientBuilder.create().build();
	 
	 HttpGet get = new HttpGet(url1);
	 
	 try {
			
			response = client.execute(get);
			
		} catch (ClientProtocolException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		
	    return response;
 	 
 }
 
 public HttpResponse getItemWithFacetOn() {
		
		HttpClient  client = HttpClientBuilder.create().build();
		
		
	HttpGet get = new HttpGet(url4);
	
	get.addHeader("apiKey", "bgkuxks768g63cgqm2qspmeq");
	get.addHeader("query", "tv");
	get.addHeader("facet", "on");
	get.addHeader("facet.filter", "brand:Samsung");
	get.addHeader("facet.range", "price:[150 TO 250]");
	get.addHeader("sort", "price");
	get.addHeader("order", "asc");

       System.out.println("uri : " +  get.toString());
       
       
       
       
	 try {
			
			response = client.execute(get);
			
		} catch (ClientProtocolException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		
	    return response;
	 
 }


}