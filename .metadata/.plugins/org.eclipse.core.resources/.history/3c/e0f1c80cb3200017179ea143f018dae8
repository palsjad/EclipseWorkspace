package com.wbl.page;

import java.util.ArrayList;
import java.util.List;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.support.ui.ExpectedConditions;
import org.openqa.selenium.support.ui.WebDriverWait;

public class AmazonLoginPage {
	
	WebDriver driver;
	
	public AmazonLoginPage(WebDriver driver) {
		
		this.driver = driver;
	}
	
	
	public AmazonHomePage enterLoginDetails(String nm, String pwd) {
		
		
		driver.findElement(By.cssSelector("input[id='ap_email']")).sendKeys(nm);
		
		driver.findElement(By.cssSelector("input[id='ap_password']")).sendKeys(pwd);
		
		driver.findElement(By.cssSelector("input[id='signInSubmit']")).click();
		
		return new AmazonHomePage(driver);

		
		
	}
	
	
	

  	public AmazonHomePage enterDetails(List<String> accountDetails) {
 
  
		WebDriverWait wait = new WebDriverWait(driver, 30);
	 
		List<WebElement> account = new ArrayList<WebElement>();

		wait = new WebDriverWait(driver, 30);
 
 	account = wait
				.until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.cssSelector("[class*='a-input-text']")));
		 
  
	 
		int i = 0;
		
		for (WebElement ele : account) {

  		ele.clear();
  		ele.sendKeys(accountDetails.get(i));
  		
  		 i++;
		} 
  
	//	return driver.getTitle();	
		
		return new AmazonHomePage(driver);

		
	}


}
