package com.wbl.test;

import org.testng.Assert;
import org.testng.annotations.BeforeClass;
import org.testng.annotations.DataProvider;
import org.testng.annotations.Test;

import com.wbl.base.BaseTest;
import com.wbl.helper.ExcelHelper;
//import com.wbl.page.AmazonHomePageCopy;
import com.wbl.page.AmazonSearch;

public class AmazonSearchTest extends BaseTest{

	AmazonSearch as;
//	AmazonHomePageCopy ahp;
	Object[][] data = null;
	
	@BeforeClass
	public void before() {
//		ahp = new AmazonHomePageCopy(driver);
		as = new AmazonSearch(driver);
		
		
	}
	
	
	
	 
		@DataProvider(name="allDropDown")
		public Object[][] allDropDownData(){
			
			System.out.println("alldropdown data = reading excel");

			  data = ExcelHelper.getExcelData("test-data\\AmazonSearchTestData.xlsx","allDropDown");
	 		  
			
			
			return data;
	 	
		}
		@DataProvider(name="dropDownChoice")
		public Object[][] dropDownChoiceData(){
			
			System.out.println("dropDown choice data = reading excel");

			  data = ExcelHelper.getExcelData("test-data\\AmazonSearchTestData.xlsx","dropDownChoice");
	 		  
			
			
			return data;
	 	
		}
		
		@DataProvider(name="clothing")
		public Object[][] clothingData(){
			
			System.out.println("clothing data = reading excel");

			  data = ExcelHelper.getExcelData("test-data\\AmazonSearchTestData.xlsx","clothing");
	 		  
			
			
			return data;
	 	
		}
		
	 	
		@Test(dataProvider = "allDropDown")
		public void allDropDownTest(String dropDownSearch , String expected1) {
			
		 
			System.out.println("allDropDownTest");

//			Assert.assertEquals(ahp.allDropDown(dropDownSearch), expected1);
			
			Assert.assertEquals(as.allDropDown(dropDownSearch), expected1);

		}
		
		 
	 	
		@Test(dataProvider = "dropDownChoice")
	 	public void dropDownChoiceTest(String dropDownSearch, String item, String person, String expected1 ) {
	 
	 
			System.out.println("dropDownChoiceTest");
			
//			ahp.allDropDown(dropDownSearch);
			
			as.allDropDown(dropDownSearch);

			
//	  	Assert.assertEquals(ahp.dropDownChoice(item,person), expected1);
			
		  	Assert.assertEquals(as.dropDownChoice(item,person), expected1);

	 
		}

		
		
		@Test(dataProvider = "clothing")
		public void sortChoiceTest(String dropDownSearch, String item, String person, String price, String sortType, String expected1, String expected2) {
	  
			System.out.println("sortChoiceTest");

		/*	ahp.allDropDown(dropDownSearch);
	        ahp.dropDownChoice(item, person);
			
 	 	Assert.assertEquals(ahp.sortChoice(price, sortType), expected1);
 	 	*/
 	 	
 	 	as.allDropDown(dropDownSearch);
        as.dropDownChoice(item, person);
		
	 	Assert.assertEquals(as.sortChoice(price, sortType), expected1);
        
	 
		}
		
	
	 
	
	
	
	
	@Test(dataProvider= "clothing")
	public void searchResultsTest(String dropDownSearch, String item, String person, String price, String searchOpt, String sortType, String expected1, String expected2, String expected3) {
	
		as.allDropDown(dropDownSearch);
        as.dropDownChoice(item, person);
		as.sortChoice(price, sortType);
		Assert.assertEquals(as.searchResults(searchOpt),expected3);
		
		
		
	}
}
